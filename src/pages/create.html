<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create a Class</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="../index.html">
                <img src="../../public/assets/images/oryx-logo.png" alt="Oryx" class="image-fluid" width="60" height="50">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="discover.html">Discover</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="roadmaps.html">Roadmaps</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="community.html">Community</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="developers.html">Developers</a>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <div id="authButtons">
                        <a href="auth.html" class="btn btn-primary">Sign In</a>
                    </div>
                    <div id="userMenu" class="dropdown d-none">
                        <button class="btn btn-secondary dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-2"></i>
                            <span id="userName">Guest User</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end bg-secondary">
                            <li><a class="text-cyan dropdown-item" href="portfolio.html"><i class="bi bi-person me-2"></i>Profile</a></li>
                            <li><a class="text-cyan dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="text-cyan dropdown-item" href="#" onclick="logout()"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container my-5 pt-5">
        <div style="max-width: 800px; margin: 0 auto;">
            <div class="text-center mb-5">
                <h1 class="text-primary"><i class="fas fa-chalkboard-teacher me-3"></i>Create a New Class</h1>
                <p class="text-muted">Set up your class to start teaching and collaborating with students</p>
            </div>

            <form id="createClassForm">
                <!-- Basic Information Section -->
                <div class="card mb-4">
                    <h3 class="text-cyan mb-3"><i class="fas fa-info-circle me-2"></i>Basic Information</h3>
                    <div class="row">
                        <div class="col-md-12 mb-3">
                            <label for="className" class="form-label fw-semibold text-primary">Class Name *</label>
                            <input type="text" class="form-control" id="className" name="className" 
                                   placeholder="e.g., Mathematics 101, English Literature, Computer Science Basics" required>
                            <div class="form-text text-muted">Choose a clear, descriptive name for your class</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="subject" class="form-label fw-semibold text-primary">Subject</label>
                            <select class="form-select form-control" id="subject" name="subject">
                                <option value="">Select a subject</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="science">Science</option>
                                <option value="english">English</option>
                                <option value="history">History</option>
                                <option value="computer-science">Computer Science</option>
                                <option value="art">Art</option>
                                <option value="music">Music</option>
                                <option value="physical-education">Physical Education</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="gradeLevel" class="form-label fw-semibold text-primary">Grade Level</label>
                            <select class="form-select form-control" id="gradeLevel" name="gradeLevel">
                                <option value="">Select grade level</option>
                                <option value="elementary">Elementary (K-5)</option>
                                <option value="middle">Middle School (6-8)</option>
                                <option value="high">High School (9-12)</option>
                                <option value="college">College/University</option>
                                <option value="adult">Adult Education</option>
                            </select>
                        </div>
                        <div class="col-md-12 mb-3">
                            <label for="description" class="form-label fw-semibold text-primary">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="4" 
                                      placeholder="Describe what students will learn in this class, course objectives, and any important information..."></textarea>
                            <div class="form-text text-muted">Help students understand what this class is about</div>
                        </div>
                    </div>
                </div>

                <!-- Privacy Settings Section -->
                <div class="card mb-4">
                    <h3 class="text-cyan mb-3"><i class="fas fa-shield-alt me-2"></i>Privacy Settings</h3>
                    <p class="text-muted mb-3">Choose who can find and join your class</p>
                    
                    <div class="card mb-3" style="cursor: pointer;" onclick="selectPrivacyOption('public')">
                        <div class="d-flex align-items-start">
                            <input type="radio" id="public" name="privacy" value="public" class="form-check-input mt-1 me-3">
                            <div>
                                <div class="fw-semibold text-primary"><i class="fas fa-globe me-2"></i>Public</div>
                                <div class="text-muted small">Anyone can find and request to join this class</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-3" style="cursor: pointer;" onclick="selectPrivacyOption('private')">
                        <div class="d-flex align-items-start">
                            <input type="radio" id="private" name="privacy" value="private" class="form-check-input mt-1 me-3" checked>
                            <div>
                                <div class="fw-semibold text-primary"><i class="fas fa-lock me-2"></i>Private</div>
                                <div class="text-muted small">Only people you invite can join this class</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-3" style="cursor: pointer;" onclick="selectPrivacyOption('org')">
                        <div class="d-flex align-items-start">
                            <input type="radio" id="org" name="privacy" value="org" class="form-check-input mt-1 me-3">
                            <div>
                                <div class="fw-semibold text-primary"><i class="fas fa-building me-2"></i>Organization</div>
                                <div class="text-muted small">Anyone in your organization can find and join this class</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Settings Section -->
                <div class="card mb-4">
                    <h3 class="text-cyan mb-3"><i class="fas fa-cog me-2"></i>Additional Settings</h3>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="classCode" class="form-label fw-semibold text-primary">Class Code</label>
                            <div class="input-group">
                                <input type="text" class="form-control" id="classCode" name="classCode" 
                                       placeholder="Auto-generated" readonly>
                                <button class="btn btn-outline-primary" type="button" onclick="generateClassCode()">
                                    <i class="fas fa-refresh"></i>
                                </button>
                            </div>
                            <div class="form-text text-muted">Students can use this code to join your class</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="maxStudents" class="form-label fw-semibold text-primary">Maximum Students</label>
                            <input type="number" class="form-control" id="maxStudents" name="maxStudents" 
                                   min="1" max="500" value="30">
                            <div class="form-text text-muted">Set the maximum number of students (1-500)</div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="allowStudentPosts" name="allowStudentPosts" checked>
                                <label class="form-check-label fw-semibold text-primary" for="allowStudentPosts">
                                    Allow students to post and comment
                                </label>
                                <div class="form-text text-muted">Students can create posts and participate in discussions</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="d-flex justify-content-end gap-3 mt-4">
                    <button type="button" class="btn btn-secondary">
                        <i class="fas fa-times me-2"></i>Cancel
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus me-2"></i>Create Class
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Generate a random class code
        function generateClassCode() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 8; i++) {
                code += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            document.getElementById('classCode').value = code;
        }

        // Select privacy option
        function selectPrivacyOption(option) {
            // Remove hover effect from all privacy cards
            document.querySelectorAll('.card').forEach(card => {
                if (card.querySelector('input[name="privacy"]')) {
                    card.style.borderColor = '';
                    card.style.boxShadow = '';
                }
            });
            
            // Add selection effect to clicked option
            const selectedCard = document.getElementById(option).closest('.card');
            selectedCard.style.borderColor = 'hsl(210, 95%, 70%)';
            selectedCard.style.boxShadow = '0 8px 20px hsl(210, 95%, 70%, 0.3)';
            
            // Check the radio button
            document.getElementById(option).checked = true;
        }

        // Initialize privacy option selection
        document.addEventListener('DOMContentLoaded', function() {
            // Generate initial class code
            generateClassCode();
            
            // Set initial privacy selection
            const checkedPrivacy = document.querySelector('input[name="privacy"]:checked');
            if (checkedPrivacy) {
                const selectedCard = checkedPrivacy.closest('.card');
                selectedCard.style.borderColor = 'hsl(210, 95%, 70%)';
                selectedCard.style.boxShadow = '0 8px 20px hsl(210, 95%, 70%, 0.3)';
            }
            
            // Handle form submission
            document.getElementById('createClassForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Collect form data
                const formData = new FormData(this);
                const classData = Object.fromEntries(formData);
                
                // Show success message (you can replace this with actual API call)
                alert('Class created successfully! Students can join using code: ' + classData.classCode);
            });
        });
    </script>
</body>
</html>